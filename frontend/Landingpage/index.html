<!-- HI -->
<!-- TALHA ANJUM -->
<!-- TALHAH YUNUS -->
<!DOCTYPE html>
<html lang="en">
<head>
    <title>Doon International School Test Recorder</title>
    <meta charset="UTF-8">  
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="index.css">
</head>
<body>
    <h1 class="fixed-header">Doon International School Jammu's Test Recorder</h1>
     
    <div class="welcome-container">
        <h1>For the first time! Doon International School Jammu's Test recorder on your device!</h1>
        <p>All your class tests of all subjects here in one place!</p>
        <div class="button-container">
            <a href="#" class="class-button" data-class="9">Class 09</a>
            <a href="#" class="class-button" data-class="10">Class 10</a>
            <a href="#" class="class-button" data-class="11">Class 11</a>
            <a href="#" class="class-button" data-class="12">Class 12</a>
        </div>

        <div class="teacher-section">
            <h2>Teacher Upload Portal</h2>
            <div class="subject-grid">
                <button class="subject-btn" data-subject="Mathematics">Mathematics</button>
                <button class="subject-btn" data-subject="Physics">Physics</button>
                <button class="subject-btn" data-subject="Chemistry">Chemistry</button>
                <button class="subject-btn" data-subject="Biology">Biology</button>
                <button class="subject-btn" data-subject="English">English</button>
                <button class="subject-btn" data-subject="Computer Science">Computer Science</button>
                <button class="subject-btn" data-subject="History">History</button>
                <button class="subject-btn" data-subject="Geography">Geography</button>
            </div>
        </div>
    </div>

    <div id="uploadModal" class="modal">
        <div class="modal-content">
            <span class="close">x</span>
            <h2 style="margin-bottom:1.5rem;color:#2d3748;text-align:center;">Upload Test Paper</h2>
            <form id="uploadForm">
                <input type="hidden" id="selectedClass" value="">
                <input type="hidden" id="selectedSubject" value="">

                <div class="form-group">
                    <label for="subjectName">Subject Name</label>
                    <input type="text" id="subjectName" required placeholder="e.g., Mathematics">
                </div>

                <div class="form-group">
                    <label for="teacherName">Teacher's Name</label>
                    <input type="text" id="teacherName" required placeholder="e.g., Mr. Rajesh Kumar">
                </div>

                <div class="form-group">
                    <label for="topicName">Test Name</label>
                    <input type="text" id="topicName" required placeholder="e.g., Chapter 5">
                </div>

                <div class="form-group">
                    <label>Upload PDF or Image</label>
                    <div class="file-upload">
                        <input type="file" id="fileInput" accept=".pdf,image/*" required>
                        <label for="fileInput" class="file-upload-label">
                            <span id="fileLabelText">Click to select PDF or Image</span>
                        </label>
                        <div class="file-name" id="fileName"></div>
                    </div>
                </div>

                <button type="submit" class="submit-btn">Upload Test</button>
            </form>
        </div>
    </div>

    <script>
        const modal=document.getElementById('uploadModal'),close=document.querySelector('.close'),form=document.getElementById('uploadForm'),fileInput=document.getElementById('fileInput'),fileName=document.getElementById('fileName'),classBtns=document.querySelectorAll('.class-button'),subjBtns=document.querySelectorAll('.subject-btn');let selectedClass='';subjBtns.forEach(b=>b.onclick=()=>{selectedClass=document.querySelector('.class-button.active')?.dataset.class||'general';document.getElementById('selectedClass').value=selectedClass;document.getElementById('subjectName').value=b.dataset.subject;modal.style.display='block';});close.onclick=()=>modal.style.display='none';window.onclick=e=>{if(e.target===modal)modal.style.display='none';};fileInput.onchange=()=>fileName.textContent=fileInput.files[0].name;form.onsubmit=e=>{e.preventDefault();const file=fileInput.files[0];const r=new FileReader();r.onload=()=>{const d={class:document.getElementById('selectedClass').value,subject:document.getElementById('subjectName').value,teacher:document.getElementById('teacherName').value,topic:document.getElementById('topicName').value,fileName:file.name,data:r.result};let u=JSON.parse(localStorage.getItem('tests')||'[]');u.push(d);localStorage.setItem('tests',JSON.stringify(u));alert('Uploaded!');form.reset();fileName.textContent='';modal.style.display='none';};r.readAsDataURL(file);};classBtns.forEach(b=>{b.onclick=e=>{e.preventDefault();classBtns.forEach(c=>c.classList.remove('active'));b.classList.add('active');const cls=b.dataset.class;document.querySelector('.welcome-container').style.display='none';let v=document.getElementById('classView');if(!v){v=document.createElement('div');v.id='classView';v.innerHTML=`<div style="padding:2rem;color:white;"><h2>Class ${cls}</h2><div id="pdfs"></div></div>`;document.body.appendChild(v);}const list=v.querySelector('#pdfs');const tests=JSON.parse(localStorage.getItem('tests')||'[]').filter(t=>t.class===cls);list.innerHTML=tests.length?tests.map(t=>`<div style="background:white;margin:1rem;padding:1rem;border-radius:12px;"><h3>${t.subject} - ${t.topic}</h3><p><strong>Teacher:</strong> ${t.teacher}</p><iframe src="${t.data}" style="width:100%;height:400px;border:none;"></iframe><a href="${t.data}" download="${t.fileName}">Download</a></div>`).join(''):'<p>No tests uploaded.</p>';};});
    </script>
</body>
</html>
